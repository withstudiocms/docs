---
import { getContributorBreakdown } from '../util/getContributors';
import FacePile from './FacePile.astro';

const breakdown = await getContributorBreakdown(Astro);
---

<div class="not-content">
	<div class="split-flex">

		{
			breakdown.map(({ name, contributors }) => {
				if (contributors.length === 0) return null;
				return (
					<div class="flex-item">
						<h5>{name}</h5>
						<FacePile contributors={contributors} />
					</div>
				)
			})
		}

	</div>
</div>

<style>
	.not-content {
		width: 100%;
		margin-left: auto;
		margin-right: auto;
		padding: 0.5rem;
	}

	.split-flex {
		display: flex;
		flex-wrap: wrap;
		gap: 2rem;
		justify-content: center;
	}

	.flex-item {
		flex: 1 1 15rem;
		min-width: 15rem;
		max-width: 25rem;
	}

	h5 {
		margin-bottom: 0.5rem;
		font-size: large;
	}


</style>