---
i18nReady: true
title: "La CLI"
description: "Découvrez les CLI de StudioCMS et comment les utiliser."
sidebar:
  order: 2
  badge:
    text: Mis à jour
    variant: success
tableOfContents:
  minHeadingLevel: 2
  maxHeadingLevel: 4
---

import { Steps } from '@astrojs/starlight/components';
import { PackageManagers } from 'starlight-package-managers'
import ReadMore from '~/components/ReadMore.astro';

Les interfaces en ligne de commandes (CLI) de StudioCMS sont des utilitaires qui vous permettent de créer rapidement de nouveaux projets StudioCMS et qui exposent des utilitaires utiles pour StudioCMS.

Il existe plusieurs CLI différentes qui font partie de l’écosystème StudioCMS :

- **[`studiocms`](#studiocms)** : La CLI de l’utilitaire StudioCMS.
- **[`create-studiocms`](#create-studiocms)** : La CLI d’échafaudage du projet StudioCMS.
- **[`@studiocms/migrator`](#studiocmsmigrator)**: Migrez votre projet StudioCMS depuis une ancienne version vers la dernière version.
- **[`@studiocms/upgrade`](#studiocmsupgrade)**: Mettre à niveau les projets StudioCMS et leurs modules d’extension.

Voici une présentation de la CLI de StudioCMS et de ses composants.

## `studiocms`

### Options et commandes complètes de la CLI

```log
Utilisation : studiocms [options] [command]

Options :
  -V, --version  Afficher la version actuelle de la boîte à outils CLI.
  -h, --help     afficher l’aide pour la commande

COMMANDES
  - add               Ajoutez un ou plusieurs modules d’extension StudioCMS à votre projet
  - crypto            Utilitaires de chiffrement pour la sécurité de StudioCMS
  - get-turso         Installer la CLI de Turso
  - init              Initialiser le projet StudioCMS après une nouvelle installation.
  - users             Utilitaires pour peaufiner les utilisateurs dans StudioCMS
  - migrate           Gérer les migrations de bases de données pour StudioCMS.
```

### Exemple d’utilisation

Depuis la racine de votre projet StudioCMS

<PackageManagers type="exec" pkg="studiocms" args={'[command]'} />

### Présentation des commandes

#### `add`

```log
utilisation : studiocms add <plugins...>

Ajoute un ou plusieurs modules d’extension StudioCMS à votre projet.

Arguments :
  plugins    Module(s) d’extension à installer

Options :
  -h, --help  afficher l’aide pour la commande
```

#### `crypto`

```log
utilisation : studiocms crypto [command]

Utilitaires de chiffrement pour la sécurité

Options :
  -h, --help  afficher l’aide pour la commande

Commandes :
  gen-jwt     Générer un jeton JWT à partir d’un fichier clé
```

#### `crypto gen-jwt`

```log 
utilisation : studiocms crypto gen-jwt [options] <key-file>

Génére un jeton JWT à partir d’un fichier clé

Arguments :
  key-file                     un chemin relatif (par exemple, `../keys/libsql.pem`) depuis le répertoire actuel vers votre fichier de clé privée (.pem)

Options :
  -e, --exp <date-in-seconds>  Date d’expiration en secondes (>=0) à partir de l’heure d’émission (iat)
  -h, --help                   afficher l’aide pour la commande
```

#### `debug`

```log
Utilisation : studiocms debug [options]

Affiche les informations de débogage concernant votre installation de StudioCMS.

Options :
  -h, --help  afficher l'aide pour la commande
  --debug     Activer le mode débogage
```

#### `get-turso`

Télécharge et installe la dernière version de Turso à l’aide du script de
la [documentation][turso-docs] de Turso

:::note
Windows nécessite l’utilisation de WSL selon Turso
:::

```log
Utilisation : getTurso [options]

Programme d’installation de la CLI de Turso

Options :
  -h, --help  afficher l’aide pour la commande
```

#### `init`

```log
Utilisation : studiocms init [options]

Initialise le projet StudioCMS après une nouvelle installation.

Options :
  -d, --dry-run     Mode de fonctionnement en marche à vide
  --skip-banners    Ignorer toutes les bannières
  --debug           Activer le mode débogage
  -h, --help        Afficher l’aide pour la commande
```

La commande init fournit une expérience de configuration interactive qui vous aide à :

1. Configurez votre fichier d’environnement (.env) avec des options pour :
   - Utiliser un exemple de modèle `.env`
   - Utiliser le générateur interactif `.env` qui peut :
     - Configurer une connexion à une base de données (libSQL, MySQL, PostgreSQL)
     - Configurer les fournisseurs OAuth (GitHub, Discord, Google, Auth0)
     - Définir les clés de chiffrement et autres variables requises
   - Ignorer la création du fichier d’environnement

<ReadMore>Pour une liste complète des variables d’environnement, consultez la [documentation des variables d’environnement][environment-variables].</ReadMore>

#### `users`

```log
utilisation : studiocms users [options]

Utilitaires pour peaufiner les utilisateurs dans StudioCMS

Options :
  -h, --help  afficher l’aide pour la commande
```

#### `migrate`

```log
Utilisation : studiocms migrate [options]

Gérer les migrations de bases de données pour StudioCMS.

Options :
  -h, --help      afficher l'aide pour la commande
  --debug         Activer le mode débogage
  -r, --rollback  Restaurer l'état avant la dernière migration
  -l, --latest    Migrer vers la dernière version
  --status        Afficher l'état actuel de la migration
```

## `create-studiocms`

### Options et commandes complètes de la CLI

```log
Utilisation : create-studiocms [options] [command]

Options :
  -V, --version  Afficher la version actuelle de la boîte à outils CLI.
  -h, --help     afficher l’aide pour la commande
  --color        forcer la sortie couleur
  --no-color     désactiver la sortie couleur

Commandes :
  get-turso      Obtenir la dernière version de Turso.
  help           Afficher l’aide pour la commande
  interactive*   Démarrer la CLI interactive.

  * Indique la commande par défaut qui est exécutée lors de l’appel de cette CLI.
```

### Exemple d’utilisation

<PackageManagers type='create' pkg='studiocms@latest' />

`create-studiocms` s’exécute automatiquement en mode _interactif_, mais vous pouvez également spécifier le nom et le modèle de votre projet avec des arguments de ligne de commandes.

<PackageManagers type='create' pkg='studiocms@latest' args='--template studiocms/basics --project-name my-studiocms-project' />

[Découvrez la liste complète][templates] de modèles, disponibles sur GitHub.

Lors de l’utilisation de `--template`, la CLI recherche tous les dossiers dans le dépôt de modèles. Par exemple, le modèle `studiocms/basics` pointe vers le projet `basics` dans le dossier `studiocms` à la racine du dépôt.

### Présentation des commandes

#### Interactif (commande par défaut)

```log
Utilisation : create-studiocms interactive [options]

Démarre la CLI interactive. Propulsée par [clack](https://clack.cc).

Cette commande ouvrira une invite CLI interactive pour vous guider tout au long
du processus de création d’un nouveau projet StudioCMS (ou d’un paquet de
l’écosystème StudioCMS) à l’aide de l’un des modèles disponibles.

Options :
  -t, --template <template>          Le modèle à utiliser.
  -r, --template-ref <template-ref>  La référence du modèle à utiliser.
  -p, --project-name <project-name>  Le nom du projet.
  -i, --install                      Installer les dépendances.
  -g, --git                          Initialiser un dépôt git.
  -y, --yes                          Ignorer toutes les invites et utiliser les valeurs par défaut.
  -n, --no                           Ignorer toutes les invites et utiliser les valeurs par défaut.
  -q, --skip-banners                 Ignorer toutes les bannières et tous les messages.
  -d, --dry-run                      N’effectuer aucune action.
  -h, --help                         afficher l’aide pour la commande
  --do-not-install                   Ne pas installer de dépendances.
  --do-not-init-git                  Ne pas initialiser un dépôt git.
```

#### `get-turso`

Vous pouvez télécharger et installer la dernière version de Turso à l’aide du
script de la [documentation][turso-docs] de Turso.

:::note
Windows nécessite l’utilisation de WSL selon Turso
:::

```log
Utilisation : getTurso [options]

Programme d’installation de la CLI de Turso

Options :
  -h, --help  afficher l’aide pour la commande
```

## `@studiocms/migrator`

Un outil en ligne de commande pour migrer votre projet StudioCMS depuis d'anciennes versions vers la dernière version.

### Exemple d'utilisation

#### Exécution depuis npm

<PackageManagers type="dlx" pkg="@studiocms/migrator" />

#### Installation locale

<Steps>
1. Installez l'outil de migration à la racine de votre projet StudioCMS :
   <PackageManagers pkg="@studiocms/migrator" type='add' />

2. Une fois installé, ajoutez le script suivant à votre fichier `package.json` :

   ```json title="package.json" ins={3}
   {
     "scripts": {
       "migrate-studiocms": "studiocms-migrator"
     }
   }
   ```

3. Démarrez l'outil de migration en exécutant la commande suivante dans le répertoire de votre projet :

   <PackageManagers type="run" pkg="studiocms-migrator" />

   Cela lancera un serveur web local. Ouvrez votre navigateur et rendez vous à l'adresse `http://localhost:4321` pour accéder à l'interface de l'outil de migration.
</Steps>

## `@studiocms/upgrade`

Un outil de ligne de commande pour mettre à niveau votre installation StudioCMS et vos dépendances.

Vous pouvez exécuter cette commande dans votre terminal pour mettre à niveau vos intégrations officielles du projet Astro en même temps que vous mettez à niveau StudioCMS.

### Exemple d'utilisation

<PackageManagers type="exec" pkg="@studiocms/upgrade" />

### Options

#### étiquette (facultatif)

Il est possible de passer une étiquette (`tag`) spécifique pour résoudre les paquets. Si elle n'est pas incluse, `@studiocms/upgrade` recherche l'étiquette la plus récente.

<PackageManagers type="exec" pkg="@studiocms/upgrade" args="beta" />

[turso-docs]: https://docs.turso.tech/cli/installation
[templates]: https://github.com/withstudiocms/templates
[environment-variables]: /fr/start-here/environment-variables/
