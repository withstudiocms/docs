---
i18nReady: true
title: Variables d'environnement
description: Un bref aperçu des variables d’environnement utilisées dans StudioCMS.
sidebar:
   order: 2
   badge:
     text: Mis à jour
     variant: success
---

import { Aside } from '@astrojs/starlight/components';
import ReadMore from '~/components/ReadMore.astro';

Pour que StudioCMS fonctionne correctement, vous devez configurer les variables d’environnement appropriées. Ces variables sont essentielles pour établir une connexion sécurisée à Astro DB et s’authentifier auprès de l’API StudioCMS. Sans configuration correcte de ces variables d’environnement, l’application ne fonctionnera pas comme prévu.

Vous pouvez créer un fichier `.env` dans le répertoire racine de votre projet et ajouter les variables d’environnement requises. Ce fichier texte contient des paires clé-valeur de variables d’environnement. Ces variables sont lues par l’application lors de l’exécution.

Pour référence future sur la façon de travailler avec les variables d’environnement dans Astro, vous pouvez consulter [Variables d’environnement](https://docs.astro.build/fr/guides/environment-variables/) dans la documentation d’Astro.

## Variables d’environnement requises

Afin d’utiliser StudioCMS, il existe quelques variables d’environnement requises que vous devez configurer dans votre fichier `.env`.

### URL de la base de données et jeton pour `@astrojs/db`

- `ASTRO_DB_REMOTE_URL` - L’URL de connexion à votre serveur libSQL
- `ASTRO_DB_APP_TOKEN` - Le jeton d’application pour votre serveur libSQL

```bash title=".env"
ASTRO_DB_REMOTE_URL=libsql://votre.serveur.io
ASTRO_DB_APP_TOKEN=eyJh...RUCg
```

<ReadMore>Pour plus d’informations sur `@astrojs/db`, consultez la [documentation d’Astro pour Astro DB](https://docs.astro.build/fr/guides/astro-db/)</ReadMore>

### Clé de chiffrement pour `@studiocms/auth`

`CMS_ENCRYPTION_KEY` - Une clé de chiffrement sécurisée pour chiffrer les données sensibles

```bash title=".env"
CMS_ENCRYPTION_KEY="wqR+w...sRcg=="
```

<Aside type="note" title="Utiliser OpenSSL">
Vous pouvez générer une clé de chiffrement sécurisée à l’aide de la commande suivante :
```bash
openssl rand --base64 16
``` 
</Aside>

## Variables d’environnement facultatives

### Variables d’environnement d’authentification oAuth

<ReadMore>
Pour plus d’informations sur la configuration de l’authentification oAuth, consultez la documentation [Configurer l’authentification oAuth][config-oauth].
</ReadMore>

#### GitHub (facultatif)

Pour vous authentifier avec GitHub, vous devez ajouter les variables d’environnement suivantes à votre fichier `.env` :

```bash title=".env"
# identifiants pour GitHub OAuth
CMS_GITHUB_CLIENT_ID=
CMS_GITHUB_CLIENT_SECRET=
CMS_GITHUB_REDIRECT_URI=
```

<Aside type="note" title="Note">
`CMS_GITHUB_REDIRECT_URI` est optionnelle si vous utilisez plusieurs URI de redirection avec GitHub oAuth.
</Aside>

#### Discord (facultatif)

```bash title=".env"
# identifiants pour Discord OAuth
CMS_DISCORD_CLIENT_ID=
CMS_DISCORD_CLIENT_SECRET=
CMS_DISCORD_REDIRECT_URI=
```

#### Google (facultatif)

```bash title=".env"
# identifiants pour Google OAuth
CMS_GOOGLE_CLIENT_ID=
CMS_GOOGLE_CLIENT_SECRET=
CMS_GOOGLE_REDIRECT_URI=
```

#### Auth0 (facultatif)

```bash title=".env"
# identifiants pour auth0 OAuth
CMS_AUTH0_CLIENT_ID=
CMS_AUTH0_CLIENT_SECRET=
CMS_AUTH0_DOMAIN=
CMS_AUTH0_REDIRECT_URI=
```

{/* Liens */}
[config-oauth]: /fr/start-here/getting-started/#facultatif-configurer-lauthentification-oauth
