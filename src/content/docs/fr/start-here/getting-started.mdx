---
i18nReady: true
title: Mise en route
description: Soyez prÃªt Ã  construire avec StudioCMS.
sidebar:
   order: 1
   badge:
     text: Mis Ã  jour
     variant: success
---

import { PackageManagers } from 'starlight-package-managers'
import TursoCLI from '~/components/TursoCLI.astro';
import { Aside, Steps, Tabs, TabItem, LinkCard, Badge } from '@astrojs/starlight/components';
import ReadMore from '~/components/ReadMore.astro';
import { sponsors, SponsorLink } from '~/share-link'

<LinkCard title="Mise Ã  niveau de StudioCMS vers la derniÃ¨re version" href="/fr/guides/upgrade/latest/" description="Vous souhaitez mettre Ã  niveau vers la version la plus rÃ©centeâ€¯? Regardez iciâ€¯!" />

## Câ€™est parti

Pour commencer Ã  utiliser StudioCMS, vous aurez besoin deÂ :

- Une version de [Node.js prise en charge par Astro](https://docs.astro.build/fr/install-and-setup/#prÃ©requis) (Bun et Deno ne sont pas pris en charge)
- Un projet Astro
- Un fournisseur libSQL ou un [serveur libSQL auto-hÃ©bergÃ©][self-hosted-libsql]
- Lâ€™intÃ©gration StudioCMS

## PrÃ©parer votre base de donnÃ©es

StudioCMS utilise `@astrojs/db` pour se connecter Ã  votre base de donnÃ©es libSQL. Vous pouvez utiliser nâ€™importe quel fournisseur libSQL ou [serveur libSQL auto-hÃ©bergÃ©][self-hosted-libsql].

Si vous utilisez la CLI de StudioCMS, vous pouvez ignorer cette Ã©tape et utiliser lâ€™interface en ligne de commande pour crÃ©er une nouvelle base de donnÃ©es si la CLI de Turso est installÃ©e.

<ReadMore>Pour plus dâ€™informations sur les variables dâ€™environnement requises, consultez [URL de la base de donnÃ©es et jeton pour `@astrojs/db`][db-url-token]</ReadMore>

### Premiers pas avec Turso

<Aside type='tip' title='Coupon StudioCMS'>
 Utilisez le code `STUDIOCMS10` pour obtenir 10 % de rÃ©duction pendant 12 mois sur Turso.
</Aside>

<Steps>
1. Installez la <SponsorLink href={sponsors.turso.docs.installCLILink} text='CLI de Turso '/>
2. <SponsorLink href={sponsors.turso.docs.loginsignupLink} text='Connectez-vous ou inscrivez-vous'/> Ã  Turso.
3. CrÃ©ez une nouvelle base de donnÃ©es.
   <TursoCLI tursoCli='db' type='create' arg='studiocms' />
4. RÃ©cupÃ©rez et dÃ©finissez `ASTRO_DB_REMOTE_URL`

   4a. ExÃ©cutez la commande `show` pour afficher les informations de la base de donnÃ©es nouvellement crÃ©Ã©eÂ :
      <TursoCLI tursoCli='db' type='show' arg='studiocms' />

   4b. Copiez la valeur de lâ€™URL et utilisez-la comme valeur pour `ASTRO_DB_REMOTE_URL`.
      ```bash title=".env"
      ASTRO_DB_REMOTE_URL=libsql://studiocms-votrenom.turso.io
      ```

5. RÃ©cupÃ©rez et dÃ©finissez `ASTRO_DB_APP_TOKEN`

   5a. CrÃ©ez un nouveau jeton pour authentifier les requÃªtes vers la base de donnÃ©esÂ :
      <TursoCLI tursoCli='db' type='tokens.create' arg='studiocms' />

   5b. Copiez la sortie de la commande et utilisez-la comme valeur pour `ASTRO_DB_APP_TOKEN`.
      ```bash title=".env"
      ASTRO_DB_APP_TOKEN=eyJhbGciOiJF...3ahJpTkKDw
      ```

</Steps>

Vous Ãªtes maintenant prÃªt Ã  passer Ã  la configuration de votre projet StudioCMSÂ !

### Utilisation dâ€™un autre fournisseur ou de libSQL auto-hÃ©bergÃ©

LibSQL prend en charge HTTP et WebSockets comme protocoles de transport pour un serveur distant. Il prend Ã©galement en charge lâ€™utilisation dâ€™un fichier local ou dâ€™une base de donnÃ©es en mÃ©moire.

<ReadMore>Pour plus dâ€™informations sur les variables dâ€™environnement requises, consultez [URL de la base de donnÃ©es et jeton pour `@astrojs/db`][db-url-token]</ReadMore>

<ReadMore>Pour plus dâ€™informations sur toutes les options potentielles de libSQL (y compris les fichiers locaux), consultez [Astro DocsÂ : Options de configuration dâ€™URL distantes](https://docs.astro.build/fr/guides/astro-db/#options-de-configuration-durl-distantes)</ReadMore>

## CrÃ©ation dâ€™un projet StudioCMS

<Tabs syncKey='install-method'>

<TabItem label="CLI de StudioCMS" icon="rocket">

    1. CrÃ©ation dâ€™un projet StudioCMS Ã  lâ€™aide de la commande `create`

        Pour crÃ©er un nouveau projet Astro avec StudioCMS en utilisant lâ€™un de nos modÃ¨les prÃ©dÃ©finis, exÃ©cutez simplement la commande suivante dans votre terminalÂ :

            <PackageManagers type="create" pkg="studiocms@latest" />

        AprÃ¨s avoir exÃ©cutÃ© la commande, vous serez invitÃ© Ã  rÃ©pondre Ã  quelques questions sur votre projet. Une fois lâ€™opÃ©ration terminÃ©e, lâ€™interface en ligne de commande crÃ©era un nouveau projet Astro avec StudioCMS dans le rÃ©pertoire spÃ©cifiÃ©.

        Ensuite, vous serez invitÃ© Ã  effectuer les Ã©tapes suivantes, qui consistent notamment Ã  vous assurer que vos variables dâ€™environnement sont correctement dÃ©finies et Ã  exÃ©cuter le projet pour terminer la configuration.

    2. AprÃ¨s avoir exÃ©cutÃ© la CLI, assurez-vous que votre fichier `astro.config.mjs` est correctement configurÃ©Â :

       ```ts twoslash title="astro.config.mjs" {2-4,11-12}
       import { defineConfig } from 'astro/config';
       import db from '@astrojs/db';
       import node from '@astrojs/node';
       import studioCMS from 'studiocms';

       export default defineConfig({
           site: 'https://demo.studiocms.dev/',
           output: 'server',
           adapter: node({ mode: "standalone" }),
           integrations: [
               db(),
               studioCMS(),
           ],
       });
       ```

</TabItem>

<TabItem label="MÃ©thode Astro" icon='astro'>

    {/* <Steps> Note: For some reason this breaks placement of EC-Twoslash popups... must investigate */}

    1. CrÃ©ation dâ€™un nouveau projet Astro

        Pour crÃ©er un nouveau projet Astro, exÃ©cutez simplement la commande suivante dans votre terminalÂ :

            <PackageManagers type="create" pkg="astro@latest" />

        AprÃ¨s avoir exÃ©cutÃ© la commande, vous serez invitÃ© Ã  rÃ©pondre Ã  quelques questions sur votre projet. Une fois lâ€™opÃ©ration terminÃ©e, lâ€™interface en ligne de commande crÃ©era un nouveau projet Astro dans le rÃ©pertoire spÃ©cifiÃ©.

        Vous devriez voir le message Â«Â Liftoff confirmed. Explore your project!Â Â», suivi des prochaines Ã©tapes recommandÃ©es.

        DÃ©placez-vous (`cd`) dans votre nouveau rÃ©pertoire de projet pour commencer Ã  utiliser Astro.

        ```bash
        cd mon-projet
        ```

        Si vous avez ignorÃ© lâ€™Ã©tape dâ€™installation de npm pendant lâ€™assistant CLI, veillez Ã  installer vos dÃ©pendances avant de continuer.

    2. Pour ajouter lâ€™intÃ©gration StudioCMS Ã  votre projet, vous devrez installer le paquet StudioCMS et ses dÃ©pendancesÂ :

       <PackageManagers type="exec" pkg="astro" args="add db node studiocms" />

    3. AprÃ¨s avoir installÃ© le paquet, assurez-vous que votre fichier `astro.config.mjs` importe et appelle correctement lâ€™intÃ©grationÂ :

       ```ts twoslash title="astro.config.mjs" {2-4,11-12}
       import { defineConfig } from 'astro/config';
       import db from '@astrojs/db';
       import node from '@astrojs/node';
       import studioCMS from 'studiocms';

       export default defineConfig({
           site: 'https://demo.studiocms.dev/',
           output: 'server',
           adapter: node({ mode: "standalone" }),
           integrations: [
               db(),
               studioCMS(),
           ],
       });
       ```

    {/* </Steps> */}

</TabItem>

<TabItem label="MÃ©thode manuelle" icon='seti:powershell'>

    {/* <Steps> */}

    1. CrÃ©ation dâ€™un nouveau projet Astro

        Pour crÃ©er un nouveau projet Astro, exÃ©cutez simplement la commande suivante dans votre terminalÂ :

            <PackageManagers type="create" pkg="astro@latest" />

        AprÃ¨s avoir exÃ©cutÃ© la commande, vous serez invitÃ© Ã  rÃ©pondre Ã  quelques questions sur votre projet. Une fois lâ€™opÃ©ration terminÃ©e, lâ€™interface en ligne de commande crÃ©era un nouveau projet Astro dans le rÃ©pertoire spÃ©cifiÃ©.

        Vous devriez voir le message Â«Â Liftoff confirmed. Explore your project!Â Â», suivi des prochaines Ã©tapes recommandÃ©es.

        DÃ©placez-vous (`cd`) dans votre nouveau rÃ©pertoire de projet pour commencer Ã  utiliser Astro.

        ```bash
        cd mon-projet
        ```

        Si vous avez ignorÃ© lâ€™Ã©tape dâ€™installation de npm pendant lâ€™assistant CLI, veillez Ã  installer vos dÃ©pendances avant de continuer.

    2. Pour ajouter lâ€™intÃ©gration StudioCMS Ã  votre projet, vous devrez installer le paquet StudioCMS et ses dÃ©pendancesÂ :

       <PackageManagers pkg="@astrojs/db @astrojs/node studiocms" />

    3. Mettez Ã  jour votre fichier `astro.config.mjs`Â :

       ```ts twoslash title="astro.config.mjs" {2-4,11-12}
       import { defineConfig } from 'astro/config';
       import db from '@astrojs/db'; 
       import node from '@astrojs/node'; 
       import studioCMS from 'studiocms';

       export default defineConfig({
           site: 'https://demo.studiocms.dev/',
           output: 'server', 
           adapter: node({ mode: "standalone" }), 
           integrations: [
               db(), 
               studioCMS(),
           ],
       });
       ```
    {/* </Steps> */}

</TabItem>

</Tabs>

Veuillez noter que lâ€™option `site` dans le fichier `astro.config.mjs` est requise pour que StudioCMS fonctionne correctement. Vous pouvez la dÃ©finir sur lâ€™URL de votre site ou sur une URL temporaire. (c.-Ã -d. `https://demo.studiocms.dev/` ou `http://localhost:4321/`)

<Aside type="note" title="Adaptateur requis">
StudioCMS nÃ©cessite un [adaptateur Astro](https://docs.astro.build/fr/guides/on-demand-rendering/#adaptateurs-de-serveur) pour fonctionner correctement. Assurez-vous de dÃ©finir un adaptateur prenant en charge les routes SSR dans votre fichier `astro.config.mjs`.
</Aside>

## Configurer le rendu de StudioCMS <Badge text='AjoutÃ© dans la beta.22' variant='success' />

StudioCMS nÃ©cessite quâ€™au moins lâ€™un des modules dâ€™extension de rendu suivants soit installÃ© et configurÃ© dans votre projet StudioCMSÂ :

- `@studiocms/html` - pour le rendu HTML
- `@studiocms/md` - pour le rendu Markdown
- `@studiocms/mdx` - pour le rendu MDX
- `@studiocms/markdoc` - pour le rendu MarkDoc
- Ou tout autre module dâ€™extension communautaire prenant en charge le rendu de contenu dans StudioCMS.

Nâ€™importe lequel de ces modules dâ€™extension peut Ãªtre utilisÃ© pour afficher du contenu dans StudioCMS. Vous pouvez utiliser un ou plusieurs de ces modules dâ€™extension dans votre projet, selon vos besoins. Ils peuvent Ãªtre installÃ©s et configurÃ©s via le fichier de configuration de StudioCMS ou celui dâ€™Astro.

```ts twoslash title="studiocms.config.mjs"
import { defineStudioCMSConfig } from 'studiocms/config';
import html from '@studiocms/html';
import md from '@studiocms/md';

export default defineStudioCMSConfig({
    plugins: [
        html(),
        md(),
    ],
});
```

<ReadMore>Pour plus dâ€™informations sur les modules dâ€™extension de rendu disponibles, consultez le [catalogue des paquets][package-catalog]</ReadMore>

## Configurer lâ€™authentification

StudioCMS Auth nÃ©cessite au moins que la [clÃ© de chiffrement][encryption-key] soit dÃ©finie dans votre fichier `.env`.

Les variables dâ€™environnement suivantes sont requises pour lâ€™authentification StudioCMSÂ :

```bash title=".env"
# clÃ© de chiffrement pour lâ€™authentification par nom dâ€™utilisateur et mot de passe
CMS_ENCRYPTION_KEY="wqR+w...sRcg=="
```

Vous pouvez gÃ©nÃ©rer une clÃ© de chiffrement sÃ©curisÃ©e Ã  lâ€™aide de la commande suivanteÂ :

```bash
openssl rand --base64 16
``` 

Et utiliser la sortie comme valeur pour `CMS_ENCRYPTION_KEY`.

<ReadMore>
Pour plus dâ€™informations sur toutes les variables dâ€™environnement dâ€™authentification disponibles, consultez la page [Variables dâ€™environnement][environment-variables].
</ReadMore>

### FacultatifÂ : configurer lâ€™authentification oAuth <Badge text='RÃ©visÃ© dans la bÃªta.23' variant='caution' />

StudioCMS prend en charge divers fournisseurs dâ€™authentification oAuth, en utilisant notre systÃ¨me de modules dâ€™extension pour activer les fournisseurs que vous souhaitez utiliser. Pour commencer, vous devrez trouver un module dâ€™extension pour le fournisseur que vous souhaitez utiliser ou crÃ©er votre propre module dâ€™extension.

<ReadMore>Pour plus dâ€™informations sur les modules dâ€™extension dâ€™authentification oAuth disponibles, consultez le [catalogue des paquets][package-catalog]</ReadMore>

Pour configurer les fournisseurs oAuth, une URL de rappel est nÃ©cessaire. Cette URL correspond au chemin vers lequel le fournisseur redirigera lâ€™utilisateur aprÃ¨s lâ€™authentification.

#### Configuration de lâ€™URL de rappel

Lâ€™URL de rappel doit Ãªtre dÃ©finie sur lâ€™un des chemins suivants en fonction de votre environnementÂ :

| Environnement | URL de rappel |
|---------------|--------------|
| Production    | `https://votre-domaine.tld/studiocms_api/auth/<provider>/callback` |
| Tests & Dev   | `http://localhost:4321/studiocms_api/auth/<provider>/callback` |

#### Exemples de chemins dâ€™URL de rappel

Les chemins suivants sont des exemples dâ€™URL de rappel pour chaque fournisseurÂ :

| Fournisseur | Chemin de rappel |
|-------------|------------------|
| GitHub      | `/studiocms_api/auth/github/callback` |
| Discord     | `/studiocms_api/auth/discord/callback` |
| Google      | `/studiocms_api/auth/google/callback` |
| Auth0       | `/studiocms_api/auth/auth0/callback` |

## Configurer les scripts de votre `package.json`

Configurez les scripts de votre `package.json` pour inclure lâ€™option `--remote` pour la construction et Ã©ventuellement pour le dÃ©veloppement. (Vous pouvez Ã©galement exÃ©cuter la commande dev comme indiquÃ© dans la section [Â«Â ExÃ©cution de votre projet StudioCMSÂ Â»](#exÃ©cution-de-votre-projet-studiocms))

```json /--remote/ title="package.json"
{
    "name": "mon-projet-studiocms",
    "scripts": {
        "dev": "astro dev --remote",
        "build": "astro check & astro build --remote",
        "astro": "astro"
    }
}
```

## ExÃ©cution de votre projet StudioCMS

GrÃ¢ce Ã  la puissance dâ€™Astro, exÃ©cuter StudioCMS est aussi simple que dâ€™exÃ©cuter la commande dev pour obtenir un aperÃ§u local, ou de crÃ©er et de dÃ©ployer sur votre serveur. Pour une utilisation locale de base sans construction, voici ce que vous devez faire.

### PremiÃ¨re configuration (ou lors des mises Ã  jour si le schÃ©ma des tables est mis Ã  jour)

Pour dÃ©marrer votre projet Astro, exÃ©cutez les commandes suivantes dans votre terminalÂ :

    <PackageManagers type="run" args="astro db push --remote" />
    <PackageManagers type="run" args="dev --remote" />

<Aside type="note">
Lâ€™option `--remote` peut Ãªtre supprimÃ©e si vous avez dÃ©fini les scripts dans votre fichier `package.json` en incluant lâ€™option. Ceci est expliquÃ© dans la section [Â«Â Configurer vos scripts `package.json`Â Â»](#configurer-les-scripts-de-votre-packagejson).
</Aside>

AprÃ¨s avoir exÃ©cutÃ© les commandes, un message devrait sâ€™afficher indiquant que votre projet sâ€™exÃ©cute sur `localhost:4321`. Lors de la premiÃ¨re configuration de StudioCMS, vous serez invitÃ© Ã  terminer la configuration Ã  lâ€™adresse `http://localhost:4321/start`.

### ExÃ©cution locale avec le mode dÃ©veloppement dâ€™Astro

Pour dÃ©marrer votre projet Astro, exÃ©cutez la commande suivante dans votre terminalÂ :

    <PackageManagers type="run" args="dev --remote" />

AprÃ¨s avoir exÃ©cutÃ© la commande, vous devriez voir un message indiquant que votre projet sâ€™exÃ©cute sur `localhost:4321`. Ouvrez votre navigateur et accÃ©dez Ã  `http://localhost:4321` pour voir votre projet Astro en action.

**FÃ©licitationsÂ !** ğŸ¥³ Vous avez maintenant installÃ© StudioCMS dans votre projet Astro.

### Ajouter un frontend Ã  votre projet StudioCMS

StudioCMS est un CMS Astro sans-tÃªte (ou Â«Â headlessÂ Â»), ce qui signifie que vous devez fournir votre propre frontend pour afficher le contenu. Si vous recherchez un frontend prÃªt Ã  lâ€™emploi, vous pouvez consulter nos modules dâ€™extension dans le [Catalogue de paquets][package-catalog].

#### CrÃ©er un blog

Si vous souhaitez crÃ©er un blog, vous pouvez utiliser le module dâ€™extension `@studiocms/blog` pour commencer.

Pour installer et configurer le module dâ€™extension de blog, exÃ©cutez la commande suivante dans votre terminalÂ :

<PackageManagers type="install" pkg="@studiocms/blog" />

AprÃ¨s avoir installÃ© le module dâ€™extension, vous devrez lâ€™ajouter dans votre fichier `studiocms.config.mjs`Â :

```ts twoslash title="studiocms.config.mjs"
import { defineStudioCMSConfig } from 'studiocms/config';
import blog from '@studiocms/blog';

export default defineStudioCMSConfig({
    dbStartPage: false,
    plugins: [
        blog(),
    ],
});
```

### CrÃ©er et dÃ©ployer votre projet StudioCMS

AprÃ¨s avoir effectuÃ© les [premiÃ¨res Ã©tapes de configuration](#premiÃ¨re-configuration-ou-lors-des-mises-Ã -jour-si-le-schÃ©ma-des-tables-est-mis-Ã -jour), vous devriez crÃ©er et dÃ©ployer votre projet StudioCMS sur votre serveur.

Par dÃ©faut, le tableau de bord de StudioCMS est disponible Ã  lâ€™adresse `http://votre-domaine.tld/dashboard`.

Ce tableau de bord sera Ã  votre disposition pour gÃ©rer votre contenu et vos paramÃ¨tres en mode dÃ©veloppement et en mode production.

Il est recommandÃ© dâ€™utiliser StudioCMS uniquement en mode production, car le tableau de bord est destinÃ© Ã  Ãªtre utilisÃ© par le projet construit. (Vous pourriez rencontrer des problÃ¨mes/erreurs en mode dÃ©veloppement, comme une erreur de dÃ©pendances provenant de Vite.)

## Prochaines Ã©tapes

<ReadMore>
DÃ©couvrez comment dÃ©finir les [Variables dâ€™environnement][environment-variables] dans StudioCMS.
</ReadMore>

<ReadMore>
Consultez le [Catalogue de paquets][package-catalog] pour rechercher et utiliser des modules dâ€™extension avec StudioCMS.
</ReadMore>

<ReadMore>
Apprenez-en plus sur les options de configuration de StudioCMS Ã  lâ€™aide des pages [RÃ©fÃ©rence de StudioCMS][config-reference].
</ReadMore>

{/* Liens */}
[package-catalog]: /fr/package-catalog/
[environment-variables]: /fr/start-here/environment-variables/
[config-reference]: /fr/config-reference/
[db-url-token]: /fr/start-here/environment-variables/#url-de-la-base-de-donnÃ©es-et-jeton-pour-astrojsdb
[encryption-key]: /fr/start-here/environment-variables/#clÃ©-de-chiffrement-pour-studiocmsauth
[auth-config-ref]: /fr/config-reference/features/#authconfig
[self-hosted-libsql]: /fr/guides/database/sqld-server/
