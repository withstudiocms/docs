---
import { LinkButton } from '@astrojs/starlight/components';

const hostingerUrl =
	'https://www.hostinger.com/cart?product=vps%3Avps_kvm_2&period=12&referral_type=cart_link&REFERRALCODE=STUDIOCMS&referral_id=019b8cb3-2aeb-7238-beed-5344a0189b55';

const headingId = `studiocms-hostinger-ad-${Math.random().toString(36).substring(2, 9)}`;
---
<div class="container" lang="en" dir="ltr" data-algolia-exclude>
	<aside aria-labelledby={headingId}>
		<svg width="48" height="48" viewBox="0 0 241 280" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
			<g id="Page-2" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
				<g id="Hostinger_Icon_white" fill="#673DE6" fill-rule="nonzero">
					<path d="M0.0023646896,131.09619 L0.0023646896,0.00469424535 L66.4666954,35.2842952 L66.4666954,94.3472904 L154.452066,94.3895386 L221.994695,131.09619 L0.0023646896,131.09619 Z M172.444989,83.5387903 L172.444989,0 L240.701754,34.401777 L240.701754,123.010352 L172.444989,83.5387903 Z M172.444989,243.765119 L172.444989,185.211451 L83.7809526,185.150425 C83.8637166,185.540048 15.1174606,147.856993 15.1174606,147.856993 L240.701754,148.910851 L240.701754,280 L172.444989,243.765119 Z M0,243.765119 L0.0023646896,158.099837 L66.4666954,196.637244 L66.4666954,278.164551 L0,243.765119 Z" id="Fill-15"></path>
				</g>
			</g>
		</svg>
		<h3 id={headingId}>Power your <strong>StudioCMS</strong> site with Hostinger</h3>
		<p class="sl-flex">
			<span class="sl-flex" style="gap: 0.25rem; align-items: center;">
				<span>High-performance VPS</span>
			</span>
			<span>â€¢</span>
			<span>Perfect for CMS hosting</span>
		</p>
		<a class="cta sl-link-button not-content" href={hostingerUrl}>
			<span>Get started with <strong>Hostinger VPS</strong></span>
		</a>
	</aside>
</div>
<style>
	.container {
		--hostinger-brand-color: #673de6;
		container-type: inline-size;
		max-width: 45rem;
		margin-inline: auto;
	}
	aside {
		margin-top: 2rem;
		border: 1px solid var(--hostinger-brand-color);
		border-radius: 0.5rem;
		padding: 1rem;
		background-color: var(--sl-color-gray-6);
		box-shadow: var(--sl-shadow-md);
		/* Internal layout */
		display: grid;
		grid-template-columns: 4rem 1fr;
		grid-template-rows: auto auto auto;
		grid-template-areas:
			'image title'
			'tagline tagline'
			'cta cta';
		gap: 0.75rem 0.5rem;
		align-items: center;
        justify-items: center;
	}
	img {
		grid-area: image;
		width: 48px;
		height: 48px;
		margin: -0.25rem;
	}
	h3 {
		grid-area: title;
		font-weight: 400 !important;
		line-height: var(--sl-line-height-headings);
		text-wrap: balance;
	}
	p {
		grid-area: tagline;
		flex-wrap: wrap;
		font-size: var(--sl-text-2xs);
		column-gap: 0.25rem;
		justify-content: center;
		align-items: center;
		line-height: var(--sl-line-height-headings);
	}
	.cta {
		grid-area: cta;
		text-align: center;
		text-wrap: balance;
		justify-content: center;
		font-size: var(--sl-text-sm) !important;
		font-weight: 500;
		padding: 0.4375rem 1.125rem;
		padding-block: 0.6875rem !important;
		transition: opacity 200ms ease-out;
		border: 1px solid transparent;
		border-radius: 999rem;
		display: inline-flex;
		gap: 0.5em;
		line-height: 1.1875;
		outline-offset: 0.25rem;
		text-decoration: none;
		border-color: var(--hostinger-brand-color) !important;
	}
	.cta:hover {
		opacity: 0.8;
		background: color-mix(in srgb, var(--hostinger-brand-color) 90%, white 10%) !important;
		color: var(--sl-color-black) !important;
	}
	.cta strong {
		text-transform: uppercase;
	}
	/* When there's room, tuck the tagline in under the title to the right of the image. */
	@container (width > 24rem) {
		aside {
			row-gap: 0.25rem;
			grid-template-areas:
				'image title'
				'image tagline'
				'cta cta';
		}
		.cta {
			margin-top: 0.5rem;
		}
		p {
			justify-content: start;
		}
	}
	/* When there's even more room, move the CTA button to the right instead of below. */
	@container (width > 40rem) {
		aside {
			grid-template-columns: 4rem auto auto;
			grid-template-areas:
				'image title cta'
				'image tagline cta';
		}
		.cta {
			margin-top: 0;
		}
	}

	@media (min-width: 50rem) {
		.sl-link-button {
			font-size: var(--sl-text-base);
			padding: 0.9375rem 1.25rem;
		}
	}

	:global(.sl-markdown-content) .sl-link-button {
		margin-inline-end: 1rem;
	}
	:global(.sl-markdown-content) .sl-link-button:not(:where(p *)) {
		margin-block: 1rem;
	}
</style>